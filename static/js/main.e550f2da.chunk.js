(this["webpackJsonplogin-app-reactjs"]=this["webpackJsonplogin-app-reactjs"]||[]).push([[0],{30:function(e,t,a){e.exports=a(58)},35:function(e,t,a){},58:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(27),l=a.n(o),c=(a(35),a(8)),s=a(10),u=a(7),m=a(11),i=a.n(m),p=function(){var e=sessionStorage.getItem("user");return e?JSON.parse(e):null},d=function(){return sessionStorage.getItem("token")||null},b=function(){sessionStorage.removeItem("token"),sessionStorage.removeItem("user")},g=function(e,t){sessionStorage.setItem("token",e),sessionStorage.setItem("user",JSON.stringify(t))};a(14);var E=function(e){var t=Object(n.useState)(e),a=Object(c.a)(t,2),r=a[0],o=a[1];return{value:r,onChange:function(e){o(e.target.value)}}},v=function(e){var t=Object(n.useState)(!1),a=Object(c.a)(t,2),o=a[0],l=a[1],s=E(""),u=E(""),m=Object(n.useState)(null),p=Object(c.a)(m,2),d=p[0],b=p[1];return r.a.createElement("div",{style:{color:"white",backgroundColor:"rgb(152,152,152)",fontFamily:"Arial",margin:"auto",width:"40%",border:"5px solid rgb(220,220,220)",padding:"10px",textAlign:"center",height:"300px",borderRadius:"14px"},id:"formContent",className:"wrapper fadeInDown col-md-6 col-md-offset-3"},r.a.createElement("h3",null,"Login"),r.a.createElement("br",null),r.a.createElement("div",null,"Username: ",r.a.createElement("br",null),r.a.createElement("input",Object.assign({type:"text",style:{textAlign:"center"},placeholder:"Enter email",className:"form-control"},s,{autoComplete:"new-password"}))),r.a.createElement("div",{style:{marginTop:10}},"Password: ",r.a.createElement("br",null),r.a.createElement("input",Object.assign({type:"password",placeholder:"Enter password",style:{textAlign:"center"},className:"form-control"},u,{autoComplete:"new-password"}))),d&&r.a.createElement(r.a.Fragment,null,r.a.createElement("small",{style:{color:"red"}},d),r.a.createElement("br",null)),r.a.createElement("br",null),r.a.createElement("button",{className:"btn btn-success btn-sm",onClick:function(){b(null),l(!0),i.a.post("https://api.getcountapp.com/api/v1/authenticate",{username:s.value,password:u.value}).then((function(t){l(!1),g(t.data.token,t.data.user),e.history.push("/dashboard")})).catch((function(e){l(!1),401===e.response.status?b(e.response.data.message):b("Popunite oba polja")}))},disabled:o},"Login"),r.a.createElement("br",null))};var f=function(e){var t=p();return r.a.createElement("div",{className:"bg-light "},r.a.createElement("h2",null,"Dobrodo\u0161li ",t.firstName," ",t.lastName,"!",r.a.createElement("br",null)),r.a.createElement("br",null),r.a.createElement("input",{type:"button",className:"btn btn-secondary",onClick:function(){b(),e.history.push("/login")},value:"Logout"}))};var h=function(){return r.a.createElement("div",null,"Welcome to the Home Page!")},j=a(12);var O=function(e){var t=e.component,a=Object(j.a)(e,["component"]);return r.a.createElement(u.b,Object.assign({},a,{render:function(e){return d()?r.a.createElement(t,e):r.a.createElement(u.a,{to:{pathname:"/login",state:{from:e.location}}})}}))};var N=function(e){var t=e.component,a=Object(j.a)(e,["component"]);return r.a.createElement(u.b,Object.assign({},a,{render:function(e){return d()?r.a.createElement(u.a,{to:{pathname:"/dashboard"}}):r.a.createElement(t,e)}}))};var w=function(){var e=Object(n.useState)(!0),t=Object(c.a)(e,2),a=t[0],o=t[1];return Object(n.useEffect)((function(){var e=d();e&&i.a.get("https://api.getcountapp.com/api/v1/users/me= ".concat(e)).then((function(e){g(e.data.token,e.data.user),o(!1)})).catch((function(e){o(!1)}))}),[]),a&&d()?r.a.createElement("div",{className:"content"},"Provjera autentikacije..."):r.a.createElement("div",{className:"App"},r.a.createElement(s.a,null,r.a.createElement("div",null,r.a.createElement("div",{className:"navbar navbar-default navbar-fixed-top"},"            ",r.a.createElement(s.b,{activeClassName:"active",className:"navbar-toggler btn",to:"/login"},"Login"),r.a.createElement("small",null),"          "),r.a.createElement("div",{className:"content form-group"},r.a.createElement(u.d,null,r.a.createElement(u.b,{exact:!0,path:"/",component:h}),r.a.createElement(N,{path:"/login",component:v}),r.a.createElement(O,{path:"/dashboard",component:f}))))))};l.a.render(r.a.createElement(w,null),document.getElementById("root"))}},[[30,1,2]]]);
//# sourceMappingURL=main.e550f2da.chunk.js.map